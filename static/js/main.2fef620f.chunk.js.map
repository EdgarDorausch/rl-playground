{"version":3,"sources":["Agent.ts","Utils.ts","Algorith.ts","State.ts","RenderHandler.ts","MazeCellRenderer.ts","App.tsx","Maze.ts","serviceWorker.ts","index.tsx"],"names":["Agent","startState","algorithm","state","this","oldState","action","chooseAction","newState","getNeighbor","reward","afterAction","sleep","milliseconds","Promise","resolve","setTimeout","chooseRandomArrayElement","a","len","length","Math","floor","random","range","stop","out","i","push","directionList","Directional","directionValues","d","value","maxValue","max","map","direction","filter","directionValue","TemporalDifferenceLearning","discountFactor","learningRate","explorationFactor","iteration","reductionFactor","neighbors","forEach","nextState","set","Number","NEGATIVE_INFINITY","getMaximum","policy","console","log","updateReductionFactor","chooseRandomAction","chooseGreedyAction","newVal","State","stateTensor","_x","_y","_t","isValid","q","newPos","x","y","t","Error","newX","newY","newT","neighbor","get","StateTensor","maxX","maxY","maxTimer","stateBuilder","state3DList","Array","fill","_","modT","RenderHandler","agent","cellDim","cellSize","cellPadding","mazeCellRenderer","cellStriding","canvasSize","halfCellSize","ctx","doTimeTravel","viewMode","doStartNewEpisode","stepCounter","stepCounterDOMElem","timer","timerDOMElem","positions","as","bs","b","cross","getCellColor","bind","getTriangleVisibility","draw","document","getElementById","canvas","width","height","getContext","getColor","getTriangleColor","showTriangles","pos","unsafeGet","resetTransform","translate","fillStyle","beginPath","moveTo","lineTo","closePath","fillRect","arc","PI","window","requestAnimationFrame","doStep","innerHTML","toString","setup","update","updateHTML","MyMazeCellRenderer","colorScale","d3","domain","acc","App","props","renderHandler","mazeStr","startPos","targetPositions","char","charAt","numberOfTargets","tX","tY","sX","sY","constructMaze","className","onChange","event","target","options","selectedIndex","text","type","onClick","id","style","backgroundColor","start","then","React","PureComponent","Boolean","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2fef620f.chunk.js","sourcesContent":["import { Algorithm } from './Algorith';\nimport { State } from './State';\n\nexport class Agent {\n  public state: State;\n\n  constructor(\n    startState: State,\n    private algorithm: Algorithm\n  ) {\n    this.state = startState;\n  }\n   \n  doStep() {\n    const oldState = this.state;\n    const action = this.algorithm.chooseAction(this.state);\n    const newState = this.state.getNeighbor(action) ?? this.state;\n    const reward = newState.reward;\n\n    this.state = newState;\n\n    this.algorithm.afterAction(oldState, action, reward, newState)\n  }\n}","// Helper functions\n\nexport function translate(x: number, y: number): string {\n  return `translate(${x},${y})`\n}\n\nexport function visibility(visibility: boolean) {\n  return visibility ? 'visible' : 'hidden';\n}\n\nexport function sleep(milliseconds: number): Promise<void> {\n   return new Promise(resolve => setTimeout(resolve, milliseconds));\n}\n\nexport function L2Norm(x: number, y: number): number {\n  return Math.sqrt(x*x + y*y);\n}\n\nexport function chooseRandomArrayElement<T>(a: T[]): T {\n  const len = a.length;\n  const idx = Math.floor(Math.random() * len);\n  return a[idx];\n}\n\nexport function range(stop: number): number[] {\n  const out: number[] = [];\n  for(let i=0; i<stop; i++) {\n    out.push(i)\n  }\n  return out;\n}\n\nexport function cross<A,B>(as: A[], bs: B[]): [A,B][] {\n  const out: [A,B][] = [];\n  for(let a of as) {\n    for(let b of bs) {\n      out.push([a,b]);\n    }\n  }\n  return out;\n}\n\nexport type ViewMode = 'simple' | 'reward' | 'value' | 'q-function' | 'policy';\nexport type Direction = 'north' | 'east' | 'west' | 'south';\nexport const directionList: Direction[] = ['north' , 'east' , 'west' , 'south'];\n\nexport class Directional {\n  private directionValues: {[direction in Direction]: number};\n\n  constructor() {\n    this.directionValues = {'north': 0, 'east': 0, 'south': 0, 'west': 0};\n  }\n\n  get(d: Direction): number {\n    return this.directionValues[d];\n  }\n  set(d: Direction, value: number): void {\n    this.directionValues[d] = value;\n  }\n\n  getMaximum(): {direction: Direction, directionValue: number} {\n    const maxValue = Math.max(...directionList.map(d => this.directionValues[d]));\n    const maxDirection = chooseRandomArrayElement(directionList.filter(d => this.directionValues[d] === maxValue));\n    \n    return {\n      direction: maxDirection,\n      directionValue: maxValue\n    }\n  }\n}\n","import { directionList, chooseRandomArrayElement, Direction, Directional } from './Utils';\nimport { State } from './State';\n\n\n\nexport interface Algorithm {\n  chooseAction(state: State): Direction;\n  afterAction(oldState: State, action: Direction, reward: number, newState: State): void;\n  startNewEpisode(): void;\n  endEpisode(): void;\n}\n\n\nexport class TemporalDifferenceLearning implements Algorithm {\n\n  private iteration = 0;\n  private reductionFactor = 1;\n\n  constructor(\n    private discountFactor: number,\n    private learningRate: number,\n    private explorationFactor: number = 1,\n  ) {}\n\n  //\n  // ─── PRIVATE METHODS ────────────────────────────────────────────────────────────\n  //\n\n  private chooseGreedyAction(state: State): Direction {\n\n    const neighbors = new Directional();\n    directionList.forEach(d => {\n      const nextState = state.getNeighbor(d);\n      neighbors.set(d, nextState?.value ?? Number.NEGATIVE_INFINITY)\n    })\n\n    const action = neighbors.getMaximum().direction;\n    state.policy = action;\n    return action;\n  }\n  \n  private chooseRandomAction(): Direction {\n    return chooseRandomArrayElement(directionList);\n  }\n\n  private updateReductionFactor() {\n    this.iteration++;\n    this.reductionFactor *= 0.99999956;\n    if(this.iteration % 1000000 === 0) {\n      console.log('reductionFactor', this.reductionFactor);\n    }\n  }\n  \n  //\n  // ─── PUBLIC METHODS ─────────────────────────────────────────────────────────────\n  //\n\n  chooseAction(state: State): Direction {\n    this.updateReductionFactor();\n    if(Math.random() < this.explorationFactor*this.reductionFactor) {\n      return this.chooseRandomAction();\n    } else {\n      return this.chooseGreedyAction(state);\n    }\n  }\n\n  /**\n   * \n   * @param oldState state before taking action\n   * @param action action taken\n   * @param reward reward yielded by taking the action\n   * @param newState state after taking action\n   */\n  afterAction(oldState: State, action: Direction, reward: number, newState: State) {\n\n    const newVal = (1-this.learningRate)*oldState.value + \n      this.learningRate*(\n        newState.reward +\n        this.discountFactor*newState.value\n      )\n    \n    oldState.value = newVal;\n  }\n\n  startNewEpisode() {}\n\n  endEpisode() {}\n\n}","import { Direction, directionList, chooseRandomArrayElement, Directional } from './Utils';\n\nexport class State {\n\n  constructor(\n    private stateTensor: StateTensor,\n    \n    private _x: number,\n    private _y: number,\n    private _t: number,\n\n    public isValid: boolean,\n\n    public reward: number,\n    public value: number,\n    public q: Directional,\n    public policy: Direction\n  ) {}\n\n  get t() {\n    return this._t;\n  }\n\n  get x() {\n    return this._x;\n  }\n\n  get y() {\n    return this._y;\n  }\n\n\n  /**\n   * Returning the neighbor state according to the given direction.\n   * `null` is returned if there is no neighbor inside the stateTensor or the neighbor is not valid\n   */\n  getNeighbor(direction: Direction): State|null {\n    let newPos;\n    const x = this._x;\n    const y = this._y;\n    const t = this._t;\n    switch(direction) {\n      case 'north':\n        newPos = [x, y-1, t+1];\n        break;\n      case 'east':\n        newPos = [1+x, y, t+1];\n        break;\n      case 'south':\n        newPos = [x, y+1, t+1];\n        break;\n      case 'west':\n        newPos = [x-1, y, t+1];\n        break;\n      default:\n        throw new Error(`Unknown direction: ${direction}`)\n    }\n    \n    const [newX,newY,newT] = newPos;\n    const neighbor = this.stateTensor.get(newX, newY, newT);\n\n    if (neighbor === null) {\n      return null;\n    }\n    \n    if(!neighbor.isValid)\n      return null;\n      \n    return neighbor;\n  }\n}\n\n\nexport type StateBuilder = (x: number, y: number, t: number) => ({\n  isValid?: boolean,\n  reward?: number,\n  value?: number,\n  q?: Directional,\n  policy?: Direction \n})\n\ntype State3DList = State[][][];\nexport class StateTensor {\n\n  private state3DList: State3DList;\n\n  constructor(\n    private maxX: number,\n    private maxY: number,\n    private maxTimer: number,\n    stateBuilder: StateBuilder\n  ) {\n    \n    this.state3DList = \n      new Array(maxX    ).fill(null).map((_,x) => \n      new Array(maxY    ).fill(null).map((_,y) => \n      new Array(maxTimer).fill(null).map((_,t) => {\n        const {\n          isValid,\n          reward,\n          value,\n          policy,\n          q\n        } = stateBuilder(x,y,t);\n        return new State(\n          this,\n          x,y,t,\n          isValid ?? true,\n          reward  ?? 0,\n          value   ?? 0,\n          q       ?? new Directional(),\n          policy  ?? chooseRandomArrayElement(directionList)\n        )}\n      )))\n  }\n\n  get(x: number, y: number, t: number): State|null {\n\n    // Check if x,y in bounds\n    if(0 <= x && x < this.maxX &&\n       0 <= y && y < this.maxY) {\n      const modT = t % this.maxTimer; \n      return(this.state3DList[x][y][modT])\n      \n    } else {\n      return null\n    }\n\n    \n  }\n\n  unsafeGet(x: number, y: number, t: number): State {\n\n    const state = this.get(x,y,t);\n    if(state === null) {\n      throw new Error(`Could not return state for (x,y,t)=(${x},${y},${t})`)\n    }\n\n    return state;\n  }\n}","import { ViewMode, sleep, Direction, directionList, cross, range } from './Utils';\nimport { Agent } from './Agent';\nimport { State, StateTensor } from './State';\nimport { MazeCellRenderer } from './MazeCellRenderer';\n\n\nexport class RenderHandler {\n  private cellStriding: number;\n  private canvasSize: number;\n  private halfCellSize: number;\n\n  private ctx: CanvasRenderingContext2D|null = null;\n\n  public doTimeTravel =  false;\n  public viewMode =  'value' as ViewMode;\n  public doStartNewEpisode =  false;\n  \n  private stepCounter = 0;\n  private stepCounterDOMElem: HTMLElement|null = null;\n\n  private timer = 0;\n  private timerDOMElem: HTMLElement|null = null;\n\n  private positions: [number, number][];\n\n  constructor(\n    private agent: Agent,\n    private stateTensor: StateTensor,\n    cellDim: number,\n    private cellSize: number,\n    private cellPadding: number,\n    private mazeCellRenderer: MazeCellRenderer\n  ) {\n    this.cellStriding = cellSize + cellPadding;\n    this.canvasSize = cellDim*(this.cellStriding) + cellPadding;\n    this.positions = cross(range(cellDim), range(cellDim));\n\n    this.halfCellSize = cellSize/2;\n\n    this.getCellColor = this.getCellColor.bind(this);\n    this.getTriangleVisibility = this.getTriangleVisibility.bind(this);\n    this.draw = this.draw.bind(this);\n  }\n\n  private setup() {\n\n    this.stepCounterDOMElem = document.getElementById('stepCounter');\n    this.timerDOMElem = document.getElementById('timer');\n\n    const canvas = document.getElementById('canvas') as HTMLCanvasElement;\n    canvas.width = this.canvasSize;\n    canvas.height = this.canvasSize;\n    this.ctx = canvas.getContext('2d');\n  }\n\n  private getCellColor(state: State): string {\n    return this.mazeCellRenderer.getColor(this.viewMode, state);\n  }\n\n  private getTriangleColor(direction: Direction, state: State): string {\n    return this.mazeCellRenderer.getTriangleColor(this.viewMode, direction, state);\n  }\n\n  private getTriangleVisibility(state: State): boolean {\n    return this.mazeCellRenderer.showTriangles(this.viewMode, state);\n  }\n\n  private draw() {\n\n    if(this.ctx === null)\n      throw new Error('canvas 2d context is null! Is setup called before draw?');\n\n    this.timer = this.agent.state.t;\n\n    for(let pos of this.positions) {\n      const [x,y] = pos;\n      const state = this.stateTensor.unsafeGet(x, y, this.timer);\n\n      this.ctx.resetTransform()\n      this.ctx.translate(this.cellStriding*x + this.cellPadding, this.cellStriding*y + this.cellPadding);\n\n      const showTriangles = this.getTriangleVisibility(state);\n\n      if(showTriangles) {\n\n        for(let direction of directionList) {\n          this.ctx.fillStyle = this.getTriangleColor(direction, state);\n          this.ctx.beginPath();\n          this.ctx.moveTo(this.halfCellSize, this.halfCellSize);\n\n          switch(direction) {\n            case 'north':\n              this.ctx.lineTo(0, 0);\n              this.ctx.lineTo(this.cellSize, 0);\n              break;\n            case 'east':\n              this.ctx.lineTo(this.cellSize, 0);\n              this.ctx.lineTo(this.cellSize, this.cellSize);\n              break;\n            case 'south':\n              this.ctx.lineTo(this.cellSize, this.cellSize);\n              this.ctx.lineTo(0, this.cellSize);\n              break;\n            case 'west':\n              this.ctx.lineTo(0, this.cellSize);\n              this.ctx.lineTo(0, 0);\n              break;\n          }\n\n          this.ctx.closePath();\n          this.ctx.fill();\n        }\n      } else {\n        this.ctx.fillStyle = this.getCellColor(state);\n        this.ctx.fillRect(0,0, this.cellSize, this.cellSize);\n      }\n    }\n\n    this.ctx.resetTransform()\n    this.ctx.translate(\n      this.cellPadding + this.agent.state.x*this.cellStriding + this.cellSize/2,\n      this.cellPadding + this.agent.state.y*this.cellStriding + this.cellSize/2\n    );\n\n    this.ctx.fillStyle = 'green';\n    this.ctx.beginPath();\n    this.ctx.arc(0, 0, this.cellSize/2.2, 0, 2 * Math.PI);\n    this.ctx.fill();\n\n    window.requestAnimationFrame(this.draw);\n  }\n\n  private update() {\n    this.stepCounter++;\n\n    if(this.doStartNewEpisode) {\n      this.doStartNewEpisode = false;\n      // TODO: this.agent.resetPosition();\n    }\n    \n    if(this.doTimeTravel) {\n      this.doTimeTravel = false;\n      for(let i = 0; i<5000000; i++) {\n        this.stepCounter++;\n        this.agent.doStep();\n      } \n    }\n    \n    this.agent.doStep();\n  }\n\n  private updateHTML() {\n    if(this.stepCounterDOMElem === null)\n      throw new Error('stepCounter DOM Element is null! Is setup called before draw?');\n    if(this.timerDOMElem === null)\n      throw new Error('timer DOM Element is null! Is setup called before draw?');\n\n    this.stepCounterDOMElem.innerHTML = this.stepCounter.toString();\n    this.timerDOMElem.innerHTML = this.timer.toString();\n  }\n\n  public async start() {\n    this.setup();\n\n    window.requestAnimationFrame(this.draw);\n\n    while(true) {\n      this.update();\n      this.updateHTML()\n      await sleep(40);\n      // break;\n    }\n  }\n}","import { ViewMode, Direction } from './Utils';\nimport { State, StateTensor } from './State';\nimport * as d3 from 'd3';\n\nexport interface MazeCellRenderer {\n  getColor(viewMode: ViewMode, state: State): string\n  getTriangleColor(viewMode: ViewMode, direction: Direction, state: State): string\n  showTriangles(viewMode: ViewMode, state: State): boolean\n}\n\nexport class MyMazeCellRenderer implements MazeCellRenderer {\n\n  private colorScale = d3.scaleSequential(d3.interpolatePuOr).domain([0,1]);\n\n  constructor(private stateTensor: StateTensor) {}\n\n  getColor(viewMode: ViewMode, state: State) {  \n    if(!state.isValid) {\n      return '#444';\n    }\n\n    switch(viewMode){\n      case 'reward':\n        return this.colorScale(state.reward);\n      case 'value':\n        return this.colorScale(state.value);\n      case 'simple':\n      case 'policy':\n      case 'q-function':\n        return 'darkgray';\n    }\n  }\n\n  getTriangleColor(viewMode: ViewMode, direction: Direction, state: State) {\n\n    if(!state.isValid){\n      return '#444';\n    }\n\n    switch(viewMode) {\n      case 'policy':\n        const itNum = 15;\n        let acc = 0;\n        const {x, y, t} = state;\n        for(let i = 0; i < itNum; i++) {\n          acc += this.stateTensor.unsafeGet(x,y,t+i).policy === direction ? 1 : 0\n        }\n        return this.colorScale(acc/itNum);\n        // return direction === state.policy ? '#222' : '#eee';\n      case 'q-function':\n        return this.colorScale(state.q.get(direction));\n      case 'reward':\n      case 'simple':\n      case 'value':\n        return 'red';\n    }\n  }\n\n  showTriangles(viewMode: ViewMode, state: State) {\n\n    if(!state.isValid){\n      return false;\n    }\n\n    switch(viewMode) {\n      case 'policy':\n      case 'q-function':\n        return true;\n      case 'reward':\n      case 'simple':\n      case 'value':\n        return false;\n    }\n  }\n}","import React from 'react';\nimport './App.css';\n\nimport {ViewMode} from './Utils';\nimport {constructMaze} from './Maze';\nimport { RenderHandler } from './RenderHandler';\nimport { MyMazeCellRenderer } from './MazeCellRenderer';\n\n// A simple maze\n// =========================\n// [\n//   '....#..........€',\n//   '....##..########',\n//   '........#.......',\n//   '##  #########...',\n//   '............#..#',\n//   '....#......##..#',\n//   '#####......#....',\n//   '.......#####....',\n//   '.......#......#.',\n//   '...#.........##.',\n//   '###########.....',\n//   '...#............',\n//   '...###...#######',\n//   '.....#..........',\n//   '.....#######....',\n//   '$...............',\n// ];\n\n// To complex structure\n// =========================\n// [\n//   '.........#......',\n//   '.........#......',\n//   '..........#€....',\n//   '...######.###...',\n//   '...#....#...#...',\n//   '...#.....#..#...',\n//   '...#..##....#...',\n//   '...#.########...',\n//   '...#..##....#...',\n//   '...#..$#€.#.#...',\n//   '...#...####.#...',\n//   '...#........#...',\n//   '...##########...',\n//   '................',\n//   '................',\n//   '................',\n// ];\n\n// Three targets. not enough time for traveling => interesting moves\n// =========================\n// [\n//   '.........#......',\n//   '.........#......',\n//   '.........#.€....',\n//   '...#####.####...',\n//   '...#........#...',\n//   '...#........#...',\n//   '...#..##...€#...',\n//   '...#.########...',\n//   '...#..##....#...',\n//   '...#..$.....#...',\n//   '...#......€.#...',\n//   '...#........#...',\n//   '...##########...',\n//   '................',\n//   '................',\n//   '................',\n// ];\n\n\nclass App extends React.PureComponent {\n\n  private renderHandler: RenderHandler;\n\n  constructor(props: {}) {\n    super(props);\n\n    const mazeStr = [\n      '.........#......',\n      '.........#......',\n      '.........#.€....',\n      '...#####.####...',\n      '...#........#...',\n      '...#........#...',\n      '...#..##....#...',\n      '...#.########...',\n      '...#..##....#...',\n      '...#..$.....#...',\n      '...#......€.#...',\n      '...#........#...',\n      '...##########...',\n      '................',\n      '................',\n      '................',\n    ];\n    \n    const {stateTensor, agent} = constructMaze(mazeStr);\n    \n    this.renderHandler = new RenderHandler(\n      agent,\n      stateTensor,\n      16,\n      30,\n      2,\n      new MyMazeCellRenderer(stateTensor)\n    )\n    \n    console.log(stateTensor)\n    console.log(agent);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>\n          RL Playground\n        </h1>\n        \n        <select onChange={(event) => {this.renderHandler.viewMode = event.target.options[event.target.selectedIndex].text as ViewMode}}>\n          <option>value</option>\n          <option>reward</option>\n          <option>simple</option>\n          <option>policy</option>\n          <option>q-function</option>\n        </select>\n        \n        <button type=\"button\" onClick={() => this.renderHandler.doTimeTravel = true}>\n          time travel\n        </button>\n        <button type=\"button\" onClick={() => this.renderHandler.doStartNewEpisode = true}>\n          reset\n        </button>\n        \n        <p>\n          iteration: <i id=\"stepCounter\"></i>\n          <br/>\n          timer: <i id=\"timer\">55</i>\n        </p>\n\n        <canvas id=\"canvas\" style={{backgroundColor: 'gray'}}></canvas>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    this.renderHandler.start().then();\n  }\n}\n\n\nexport default App;\n","import {Agent} from './Agent';\nimport { TemporalDifferenceLearning } from './Algorith';\nimport { StateTensor, StateBuilder } from './State';\n\n\nexport function constructMaze(mazeStr: string[]): {stateTensor: StateTensor, agent: Agent} {\n  let startPos = [0,0];\n  let targetPositions: [number,number][] = [];\n  const cellDim = 16;\n\n  const map: (string|null)[][] = new Array(cellDim).fill(null).map(\n    (_) => new Array(cellDim).fill(null));\n  \n  for(let x = 0; x < 16; x++){\n    for(let y = 0; y < 16; y++) {\n      const char = mazeStr[y].charAt(x);\n      map[x][y] = char;\n      \n      if (char === '€')\n        targetPositions.push([x,y]);\n      \n      if(char === '$')\n        startPos = [x,y];\n    }\n  }\n\n  const numberOfTargets = targetPositions.length;\n  const maxTimer = 179;\n  const stateBuilder: StateBuilder = (x, y, t) => {\n    const char = map[x][y];\n\n    const [tX, tY] = targetPositions[Math.floor(t*numberOfTargets/maxTimer)];\n\n    return {\n      isValid: char !== '#',\n      reward:  x===tX && y===tY ? 1 : 0, // 1 - L2Norm(x-tX, y-tY)/L2Norm(16,16)\n      value: 5 // initializing with a high/optimistic value yields to faster convergence\n    }\n  }\n  \n  const stateTensor = new StateTensor(16, 16, maxTimer, stateBuilder);\n\n  const [sX, sY] = startPos;\n  const startState = stateTensor.unsafeGet(sX, sY, 0)\n  \n  const agent = new Agent(\n    startState,\n    new TemporalDifferenceLearning(0.3, 0.5)\n  );\n  \n  return {stateTensor, agent};  \n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}